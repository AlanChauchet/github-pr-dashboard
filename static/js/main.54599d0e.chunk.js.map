{"version":3,"sources":["hooks/useSettings.js","hooks/useGithubPullRequests.js","api/github.js","hooks/useGithubApi.js","hooks/useAlwaysScroll.js","hooks/useGithubMergedPullRequests.js","components/PullRequestItem/style.js","components/PullRequestItem/index.js","hooks/useTimeAgo.js","hooks/useReviewsNumbers.js","components/ShareLinkButton/style.js","components/ShareLinkButton/index.js","hooks/useShareLink.js","style.js","hooks/useCDO.js","hooks/useWeekNumber.js","App.js","serviceWorker.js","index.js"],"names":["initialState","token","me","organisation","repositories","filters","daysBeforeWarning","daysBeforeCritical","hoursUntilNotNew","autoScroll","cdoRotation","minNbReviews","onlyNotReviewed","reducer","state","action","type","hasOwnProperty","key","Object","objectSpread","defineProperty","value","Error","useSettings","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","useEffect","URLSearchParams","window","location","search","forEach","Array","isArray","split","useGithubPullRequests","api","_ref","_useState","useState","_useState2","pullRequests","setPullRequests","_useState3","_useState4","fetching","setFetching","_interval","fetchData","_fetchData","apply","this","arguments","asyncToGenerator","regenerator_default","a","mark","_callee","totalList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","repository","pullRequestsList","_loop","_i","_totalList","wrap","_context2","prev","next","undefined","Symbol","iterator","done","getOpenPrs","sent","concat","toConsumableArray","filter","pr","draft","labels","find","prLabel","name","toLowerCase","indexOf","t0","return","finish","map","detail","reviews","sort","b","created_at","localeCompare","pullRequest","pullRequestReviews","hasAlreadyApproved","pullRequestDetail","_context","getPrReviews","base","repo","number","review","user","login","prs","index","findIndex","id","slice","getPrDetails","stop","length","delegateYield","clearInterval","catch","console","error","setInterval","GithubApi","opts","classCallCheck","Octokit","authenticate","org","data","predicate","time","newData","item","Date","parse","method","params","limitPredicate","limitTime","response","_this$getFilteredData","getFilteredData","_this$getFilteredData2","hasNextPage","getNextPage","_this$getFilteredData3","_this$getFilteredData4","owner","paginate","getAll","direction","per_page","lastWeek","now","get","getReviews","result","checkMerged","status","users","getForUser","username","useGithubApi","setApi","smoothScroll","SmoothScroll","speed","useAlwaysScroll","enabled","el","nbPullRequests","onScrollToBottomStopped","document","removeEventListener","scrollToTop","onScrollToTopStopped","scrollToBottom","addEventListener","animateScroll","easing","useGithubMergedPullRequests","nbClosed","setNbClosed","closedPRs","getClosedPrsLastWeek","merged_at","red","green","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","marginBottom","boxShadow","position","transition","warning","lighten","&:hover","critical","mergeable","&$warning $timeAgo","color","&$critical $timeAgo","progress","top","left","right","avatar","height","borderRadius","marginRight","extraDataContainer","display","alignItems","justifyContent","minWidth","reviewNumbersContainer","&:not(:last-of-type)","& svg","marginLeft","fontSize","&.green svg","&.red svg","&.grey svg","newChip","prTitle","prProject","timeAgo","reviewNumber","FetchingProgress","withStyles","bar","LinearProgress","PullRequestItem","settings","forwardRef","_useTimeAgo","useMemo","timeState","timeMoment","moment","timeAgoText","fromNow","newTime","subtract","isBetween","nbDays","diff","day","hours","minutes","useTimeAgo","_useReviewsNumbers","nbApprove","nbRefuse","nbComments","comments","isStaleReview","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","checkReview","submitted_at","err","useReviewsNumbers","classes","isMergeable","mergeable_state","react_default","createElement","ListItem","ref","className","classnames","component","href","html_url","target","button","Chip","label","ListItemAvatar","Avatar","src","avatar_url","ListItemText","primary","title","secondary","Typography","CheckBox_default","Clear_default","Message_default","shareButton","ShareLinkButton","shareLink","url","URL","origin","pathname","_settingsKeys","keys","searchParams","set","join","toString","useShareLink","shareOpen","setShareOpen","onShareClicked","useCallback","ev","clipboardData","setData","navigator","clipboard","writeText","then","handleClose","Fragment","Tooltip","IconButton","onClick","InsertLink_default","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","message","app","list","paddingTop","header","zIndex","margin","flex","loader","nbMergedContainer","headerEndContainer","cdoContainer","flexDirection","cdoAvatar","useCDO","setUser","weekOfYear","week","getUser","useWeekNumber","App","_useGithubPullRequest","_useGithubPullRequest2","nbMergedPullRequests","lastElRef","useRef","cdo","current","CssBaseline","align","variant","CircularProgress","List","Boolean","hostname","match","locale","ReactDOM","render","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.54599d0e.chunk.js","sourcesContent":["import { useEffect, useReducer } from 'react';\n\nconst initialState = {\n    token: null,\n    me: null,\n    organisation: null,\n    repositories: [],\n    filters: [],\n    daysBeforeWarning: '1',\n    daysBeforeCritical: '2',\n    hoursUntilNotNew: '2',\n    autoScroll: 'false',\n    cdoRotation: [],\n    minNbReviews: 2,\n    onlyNotReviewed: 'true',\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'update':\n            if (!state.hasOwnProperty(action.key)) {\n                return state;\n            }\n            return {\n                ...state,\n                [action.key]: action.value\n            };\n        default:\n            throw new Error();\n    }\n}\n\nexport const useSettings = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    useEffect(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n\n        urlParams.forEach((value, key) =>\n            dispatch({\n                type: 'update',\n                key,\n                value: Array.isArray(state[key]) ? value.split(',') : value\n            })\n        );\n\n        // if (process.env.NODE_ENV !== 'development') {\n        //     window.history.replaceState({}, document.title, window.location.pathname);\n        // }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return state;\n};\n","import { useEffect, useState } from 'react';\n\nexport const useGithubPullRequests = (api, { me, repositories, filters, onlyNotReviewed }) => {\n    const [pullRequests, setPullRequests] = useState([]);\n    const [fetching, setFetching] = useState(false);\n\n    useEffect(() => {\n        let _interval = null;\n        async function fetchData() {\n            setFetching(true);\n            let totalList = [];\n            for (const repository of repositories) {\n                let pullRequestsList = await api.getOpenPrs(repository);\n                totalList = [\n                    ...totalList,\n                    ...pullRequestsList.filter(pr => !pr.draft && !pr.labels.find(prLabel => !!filters.find(filter => prLabel.name.toLowerCase().indexOf(filter.toLowerCase()) > -1))\n                    )\n                ];\n            }\n\n            setPullRequests(\n                totalList\n                    .map(pr => ({\n                        ...pr,\n                        detail: null,\n                        reviews: null\n                    }))\n                    .sort((a, b) => a.created_at.localeCompare(b.created_at))\n            );\n            setFetching(false);\n\n            for (const pullRequest of totalList) {\n                const pullRequestReviews = await api.getPrReviews(pullRequest.base.repo.name, pullRequest.number);\n\n                const hasAlreadyApproved = me !== null && pullRequestReviews.find(review => review.state === \"APPROVED\" && review.user.login === me);\n\n                if (onlyNotReviewed && hasAlreadyApproved) {\n                    setPullRequests(prs => {\n                        const index = prs.findIndex(pr => pr.id === pullRequest.id);\n                        if (index >= 0) {\n                            return [\n                                ...prs.slice(0, index),\n                                ...prs.slice(index + 1),\n                            ];\n                        } else {\n                            return prs;\n                        }\n                    });\n                } else {\n                    const pullRequestDetail = await api.getPrDetails(pullRequest.base.repo.name, pullRequest.number);\n\n                    setPullRequests(prs => {\n                        const index = prs.findIndex(pr => pr.id === pullRequest.id);\n                        if (index >= 0) {\n                            return [\n                                ...prs.slice(0, index),\n                                {\n                                    ...prs[index],\n                                    detail: pullRequestDetail,\n                                    reviews: pullRequestReviews\n                                },\n                                ...prs.slice(index + 1),\n                            ];\n                        } else {\n                            return prs;\n                        }\n                    });\n                }\n            }\n        }\n        clearInterval(_interval);\n        if (api) {\n            fetchData()\n                .catch(console.error);\n            _interval = window.setInterval(() => {\n                fetchData()\n                    .catch(console.error);\n            }, 120000);\n        }\n\n        return () => {\n            clearInterval(_interval);\n        }\n    }, [api, repositories, filters, me, onlyNotReviewed]);\n\n    return [pullRequests, fetching];\n};\n","import Octokit from '@octokit/rest';\n\nclass GithubApi {\n    constructor(opts) {\n        this.api = Octokit();\n\n        this.api.authenticate({\n            type: 'token',\n            token: opts.token\n        });\n\n        this.org = opts.org;\n    }\n\n    getFilteredData(data, predicate, time) {\n        const newData = data.filter(item => {\n            const itemDate = Date.parse(item[predicate]);\n            return itemDate > time;\n        });\n\n        const sameData = data.length === newData.length;\n\n        return [newData, sameData];\n    }\n\n    async paginate(method, params, limitPredicate, limitTime) {\n        let next = true;\n        let response = await method(params);\n        let { data } = response;\n\n        if (!!limitPredicate && !!limitTime) {\n            [data, next] = this.getFilteredData(data, limitPredicate, limitTime);\n        }\n\n        while (this.api.hasNextPage(response) && next) {\n            response = await this.api.getNextPage(response);\n            let newData = null;\n            if (!!limitPredicate && !!limitTime) {\n                [newData, next] = this.getFilteredData(\n                    response.data,\n                    limitPredicate,\n                    limitTime\n                );\n            }\n\n            data = data.concat(newData);\n        }\n        return data;\n    }\n\n    async getOpenPrs(repo) {\n        const params = {\n            owner: this.org,\n            repo,\n            state: 'open'\n        };\n\n        const prs = await this.paginate(this.api.pullRequests.getAll, params);\n\n        return prs;\n    }\n\n    async getClosedPrsLastWeek(repo) {\n        const params = {\n            owner: this.org,\n            repo,\n            state: 'closed',\n            sort: 'updated',\n            direction: 'desc',\n            per_page: 50\n        };\n\n        const lastWeek = Date.now() - 7 * 24 * 60 * 60 * 1000;\n\n        const prs = await this.paginate(\n            this.api.pullRequests.getAll,\n            params,\n            'closed_at',\n            lastWeek\n        );\n\n        return prs;\n    }\n\n    async getPrDetails(repo, number) {\n        const pr = await this.api.pullRequests.get({\n            owner: this.org,\n            repo,\n            number\n        });\n\n        return pr.data;\n    }\n\n    async getPrReviews(repo, number) {\n        const params = {\n            owner: this.org,\n            repo,\n            number\n        };\n\n        const reviews = await this.paginate(\n            this.api.pullRequests.getReviews,\n            params\n        );\n\n        return reviews;\n    }\n\n    async getPrMergeStatus(repo, number) {\n        let result = null;\n        try {\n            result = await this.api.pullRequests.checkMerged({\n                owner: this.org,\n                repo,\n                number\n            });\n        } catch (e) {\n            // do nothing\n        }\n\n        return result && result.status === 204;\n    }\n\n    async getUser(user) {\n        const result = await this.api.users.getForUser({ username: user });\n\n        return result.data;\n    }\n}\n\nexport default GithubApi;\n","import { useEffect, useState } from 'react';\nimport GithubApi from '../api/github';\n\nexport const useGithubApi = (token, organisation) => {\n    const [api, setApi] = useState(null);\n\n    useEffect(() => {\n        if (token && organisation) {\n            setApi(new GithubApi({ token, org: organisation }));\n        } else {\n            setApi(null);\n        }\n    }, [token, organisation]);\n\n    return api;\n};\n","import { useEffect } from 'react';\nimport SmoothScroll from 'smooth-scroll';\n\nconst smoothScroll = new SmoothScroll(undefined, {\n    speed: 40000\n});\n\nexport const useAlwaysScroll = (enabled, el, nbPullRequests) => {\n    useEffect(() => {\n        if (enabled === 'true' && el && nbPullRequests > 4) {\n            const onScrollToBottomStopped = () => {\n                document.removeEventListener('scrollStop', onScrollToBottomStopped);\n                scrollToTop();\n            };\n            const onScrollToTopStopped = () => {\n                document.removeEventListener('scrollStop', onScrollToTopStopped);\n                scrollToBottom();\n            };\n            const scrollToBottom = () => {\n                document.addEventListener('scrollStop', onScrollToBottomStopped);\n                smoothScroll.animateScroll(el, undefined, {\n                    speed: 40000,\n                    easing: 'linear'\n                });\n            };\n            const scrollToTop = () => {\n                document.addEventListener('scrollStop', onScrollToTopStopped);\n                smoothScroll.animateScroll(0, undefined, {\n                    speed: 5000,\n                    easing: 'linear'\n                });\n            };\n            document.removeEventListener('scrollStop', onScrollToBottomStopped);\n            document.removeEventListener('scrollStop', onScrollToTopStopped);\n            scrollToBottom();\n        }\n    }, [enabled, el, nbPullRequests]);\n};\n","import { useEffect, useState } from 'react';\n\nexport const useGithubMergedPullRequests = (api, { repositories, users, filters }) => {\n    const [nbClosed, setNbClosed] = useState(0);\n\n    useEffect(() => {\n        async function fetchData() {\n            let pullRequests = [];\n            for (const repository of repositories) {\n                const closedPRs = await api.getClosedPrsLastWeek(repository);\n                pullRequests = [\n                    ...pullRequests,\n                    ...closedPRs\n                ];\n            }\n            pullRequests = pullRequests.filter(pr => pr.merged_at);\n            setNbClosed(pullRequests.length);\n        }\n        if (api) {\n            fetchData()\n                .catch(console.error);\n        }\n    }, [api, repositories, users, filters]);\n\n    return nbClosed;\n};\n","import { makeStyles } from '@material-ui/core';\nimport { lighten } from '@material-ui/core/styles';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nexport const orange = '#fcbb26';\nexport const red = '#ff5c39';\nexport const green = '#00b388';\nexport const grey = '#d9d9d6';\n\nexport const useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n    },\n    item: {\n        backgroundColor: theme.palette.background.paper,\n        marginBottom: '2em',\n        boxShadow: 'rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px',\n        position: 'relative',\n        transition: 'background-color 200ms ease-in-out',\n    },\n    warning: {\n        backgroundColor: lighten(orange, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(orange, 0.4)\n        }\n    },\n    critical: {\n        backgroundColor: lighten(red, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(red, 0.4),\n        }\n    },\n    mergeable: {\n        backgroundColor: lighten(green, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(green, 0.45),\n        },\n        '&$warning $timeAgo': {\n            color: orange\n        },\n        '&$critical $timeAgo': {\n            color: red\n        }\n    },\n    progress: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0\n    },\n    avatar: {\n        width: 60,\n        height: 60,\n        borderRadius: '3px',\n        marginRight: '1em'\n    },\n    extraDataContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        minWidth: '17vw'\n    },\n    reviewNumbersContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        '&:not(:last-of-type)': {\n            marginBottom: '0.5em',\n        },\n        '& svg': {\n            marginLeft: '0.5em',\n            fontSize: '2.5em',\n        },\n        '&.green svg': {\n            color: green\n        },\n        '&.red svg': {\n            color: red\n        },\n        '&.grey svg': {\n            color: grey\n        },\n    },\n    newChip: {\n        backgroundColor: red,\n        color: 'white',\n        position: 'absolute',\n        top: -15,\n        left: 50,\n        fontSize: '1.8vw'\n    },\n    prTitle: {\n        fontSize: '2vw'\n    },\n    prProject: {\n        fontSize: '1.8vw'\n    },\n    timeAgo: {\n        fontSize: '1.8vw'\n    },\n    reviewNumber: {\n        fontSize: '1.8vw'\n    },\n}));\n\nexport const FetchingProgress = withStyles({\n    root: {\n        height: 2,\n        backgroundColor: lighten(green, 0.5),\n    },\n    bar: {\n        backgroundColor: green,\n    },\n})(LinearProgress);\n","import React from 'react';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport MessageIcon from '@material-ui/icons/Message';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\nimport classnames from 'classnames';\n\nimport { useTimeAgo } from '../../hooks/useTimeAgo';\nimport { useReviewsNumbers } from '../../hooks/useReviewsNumbers';\nimport { useStyles, FetchingProgress } from './style';\n\nexport default ({\n                    pullRequest,\n                    settings,\n                    forwardRef\n                }) => {\n    const { timeAgoText, timeState } = useTimeAgo(pullRequest.created_at, settings);\n    const { nbApprove, nbRefuse, nbComments } = useReviewsNumbers(pullRequest);\n    const classes = useStyles();\n\n    const isMergeable = nbApprove >= settings.minNbReviews && pullRequest.detail && pullRequest.detail.mergeable === true && pullRequest.detail.mergeable_state === 'clean';\n\n    return settings.onlyNotReviewed === 'true' && nbApprove >= settings.minNbReviews ? null : (\n        <ListItem\n            ref={forwardRef}\n            className={classnames(classes.item, isMergeable && classes.mergeable, timeState === 'WARNING' && classes.warning, timeState === 'CRITICAL' && classes.critical)}\n            component=\"a\"\n            href={pullRequest.html_url}\n            target=\"_blank\"\n            button\n        >\n            {(!pullRequest.detail || !pullRequest.reviews) && <FetchingProgress className={classes.progress} />}\n            {timeState === 'NEW' && <Chip label=\"New\" className={classes.newChip} />}\n            <ListItemAvatar>\n                <Avatar className={classes.avatar} src={pullRequest.user.avatar_url} />\n            </ListItemAvatar>\n            <ListItemText\n                primary={pullRequest.title}\n                secondary={pullRequest.base.repo.name}\n                classes={{\n                    primary: classes.prTitle,\n                    secondary: classes.prProject\n                }}\n            />\n            <div className={classes.extraDataContainer}>\n                <div>\n                    <div className={`${classes.reviewNumbersContainer} green`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.reviews ? nbApprove : '-'}\n                        </Typography>\n                        <CheckBoxIcon/>\n                    </div>\n                    <div className={`${classes.reviewNumbersContainer} red`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.reviews ? nbRefuse : '-'}\n                        </Typography>\n                        <ClearIcon/>\n                    </div>\n                    <div className={`${classes.reviewNumbersContainer} grey`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.detail ? nbComments : '-'}\n                        </Typography>\n                        <MessageIcon/>\n                    </div>\n                </div>\n                <Typography className={classes.timeAgo}>\n                    {timeAgoText}\n                </Typography>\n            </div>\n        </ListItem>\n    );\n};\n","import { useMemo } from 'react';\nimport moment from 'moment';\n\nexport const useTimeAgo = (time, settings) => {\n    return useMemo(() => {\n        let timeState = 'NEUTRAL';\n        const timeMoment = moment(time);\n        const timeAgoText = timeMoment.fromNow();\n        const now = moment();\n        const newTime = moment().subtract(+settings.hoursUntilNotNew, 'hours');\n        if (timeMoment.isBetween(newTime, now)) {\n            timeState = 'NEW';\n        } else {\n            let nbDays = now.diff(timeMoment, 'days');\n            // if currently in weekend and full day has passed, skip from counter\n            if ((now.day() === 0 || now.day() === 6) &&\n                (now.hours() > timeMoment.hours() ||\n                    (now.hours() === timeMoment.hours() && now.minutes() > timeMoment.minutes())\n                )\n            ) {\n                nbDays--;\n            }\n            now.subtract(1, 'days');\n            while (now.diff(timeMoment, 'days') > 0) {\n                // if weekend, skip from counter\n                if (now.day() === 0 || now.day() === 6) {\n                    nbDays--;\n                }\n                now.subtract(1, 'days');\n            }\n            if (nbDays >= +settings.daysBeforeCritical) {\n                timeState = 'CRITICAL';\n            } else if (nbDays >= +settings.daysBeforeWarning) {\n                timeState = 'WARNING';\n            }\n        }\n\n        return {\n            timeAgoText,\n            timeState\n        };\n    }, [time, settings.hoursUntilNotNew, settings.daysBeforeWarning, settings.daysBeforeCritical]);\n};\n","import { useMemo } from 'react';\n\nexport const useReviewsNumbers = (pullRequest) => {\n    return useMemo(() => {\n        let nbApprove = 0;\n        let nbRefuse = 0;\n        const nbComments = pullRequest.detail ? pullRequest.detail.comments : 0;\n        if (pullRequest.reviews) {\n            for (const review of pullRequest.reviews) {\n                if (review) {\n                    switch (review.state) {\n                        case 'APPROVED':\n                            nbApprove++;\n                            break;\n                        case 'CHANGES_REQUESTED':\n                            // if we have a refused review, we check if there is another approved review by the same author later on\n                            let isStaleReview = false;\n                            for (const checkReview of pullRequest.reviews) {\n                                if (\n                                    checkReview.id !== review.id &&\n                                    checkReview.user.login === review.user.login &&\n                                    checkReview.state === 'APPROVED' &&\n                                    Date.parse(checkReview.submitted_at) - Date.parse(review.submitted_at) > 0\n                                ) {\n                                    isStaleReview = true;\n                                }\n                            }\n\n                            if (!isStaleReview) {\n                                nbRefuse++;\n                            }\n                            break;\n                        default:\n                        // do nothing\n                    }\n                }\n            }\n        }\n        return {\n            nbApprove,\n            nbRefuse,\n            nbComments\n        };\n    }, [pullRequest]);\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(theme => ({\n    shareButton: {\n        marginRight: '2em',\n        '& svg': {\n            fontSize: '2em'\n        }\n    }\n}));\n","import React, { useCallback, useState } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport ShareIcon from '@material-ui/icons/InsertLink';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { useShareLink } from '../../hooks/useShareLink';\nimport { useStyles } from './style';\n\nexport default ({ settings }) => {\n    const shareLink = useShareLink(settings);\n    const [shareOpen, setShareOpen] = useState(false);\n    const onShareClicked = useCallback((ev) => {\n        if (ev.clipboardData) {\n            ev.clipboardData.setData('text/plain', shareLink);\n            setShareOpen(true);\n        } else if (window.clipboardData) {\n            window.clipboardData.setData('Text', 'custom content from click');\n            setShareOpen(true);\n        } else if (navigator.clipboard) {\n            navigator.clipboard.writeText(shareLink)\n                .then(() => setShareOpen(true));\n        }\n    }, [shareLink]);\n    const handleClose = useCallback(() => {\n        setShareOpen(false);\n    }, []);\n\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <Tooltip title={shareLink}>\n                <IconButton className={classes.shareButton} onClick={onShareClicked}>\n                    <ShareIcon/>\n                </IconButton>\n            </Tooltip>\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center'\n                }}\n                open={shareOpen}\n                autoHideDuration={2000}\n                onClose={handleClose}\n                message=\"Copied to clipboard !\"\n            />\n        </React.Fragment>\n    );\n};\n","import { useMemo } from 'react';\n\nexport const useShareLink = (settings) => {\n    return useMemo(() => {\n        const url = new URL(`${window.location.origin}${window.location.pathname}`);\n        const settingsKeys = Object.keys(settings);\n        for (const key of settingsKeys) {\n            if (key !== 'token') {\n                url.searchParams.set(key, Array.isArray(settings[key]) ? settings[key].join(',') : settings[key]);\n            }\n        }\n        return url.toString();\n    }, [settings]);\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(theme => ({\n    app: {\n        position: 'relative'\n    },\n    list: {\n        width: '100%',\n        paddingTop: 165\n    },\n    header: {\n        zIndex: 2,\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        backgroundColor: '#fafafa',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around'\n    },\n    title: {\n        position: 'relative',\n        margin: '1em 0',\n        flex: 1\n    },\n    loader: {\n        marginLeft: '1em',\n        position: 'absolute',\n    },\n    nbMergedContainer: {\n        flex: 1\n    },\n    headerEndContainer: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end'\n    },\n    cdoContainer: {\n        marginRight: '5vw',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    cdoAvatar: {\n        width: 60,\n        height: 60,\n        borderRadius: '3px',\n    }\n}));\n","import { useEffect, useState } from 'react';\nimport moment from 'moment';\n\nexport const useCDO = (api, settings) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        async function fetchData() {\n            const weekOfYear = moment().week();\n            const username = settings.cdoRotation[weekOfYear % settings.cdoRotation.length];\n            const user = await api.getUser(username);\n            setUser(user);\n        }\n        if (api && settings.cdoRotation.length) {\n            fetchData()\n                .catch(console.error);\n        }\n    }, [api, settings.cdoRotation]);\n\n    return user;\n};\n","import { useMemo } from 'react';\nimport moment from 'moment';\n\nexport const useWeekNumber = () => {\n    return useMemo(() => {\n        const now = moment();\n        return now.week();\n    }, []);\n};\n","import React, { useRef } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { useSettings } from './hooks/useSettings';\nimport { useGithubPullRequests } from './hooks/useGithubPullRequests';\nimport { useGithubApi } from './hooks/useGithubApi';\nimport { useAlwaysScroll } from './hooks/useAlwaysScroll';\nimport { useGithubMergedPullRequests } from './hooks/useGithubMergedPullRequests';\n\nimport PullRequestItem from './components/PullRequestItem';\nimport ShareLinkButton from './components/ShareLinkButton';\n\nimport './App.css';\nimport { useStyles } from './style';\nimport { useCDO } from './hooks/useCDO';\nimport Avatar from '@material-ui/core/Avatar';\nimport { useWeekNumber } from './hooks/useWeekNumber';\n\nfunction App() {\n    const settings = useSettings();\n    const api = useGithubApi(settings.token, settings.organisation);\n    const [pullRequests, fetching] = useGithubPullRequests(api, settings);\n    const nbMergedPullRequests = useGithubMergedPullRequests(api, settings);\n    const lastElRef = useRef(null);\n    const cdo = useCDO(api, settings);\n    const weekOfYear = useWeekNumber();\n    useAlwaysScroll(settings.autoScroll, lastElRef.current, pullRequests.length);\n\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <CssBaseline />\n            <div className={classes.app}>\n                <div className={classes.header}>\n                    <div className={classes.nbMergedContainer}>\n                        <Typography align=\"center\" variant=\"h3\">\n                            {nbMergedPullRequests}\n                        </Typography>\n                        <Typography align=\"center\" variant=\"h4\">\n                            Merged since last week\n                        </Typography>\n                    </div>\n                    <Typography variant=\"h3\" align=\"center\" className={classes.title} component=\"div\">\n                        Week {weekOfYear}\n                        {fetching && <CircularProgress className={classes.loader} />}\n                    </Typography>\n                    <div className={classes.headerEndContainer}>\n                        {cdo && <div className={classes.cdoContainer}>\n                            <Typography variant=\"h5\">CDO</Typography>\n                            <Avatar src={cdo.avatar_url} className={classes.cdoAvatar} />\n                            <Typography variant=\"h5\">{cdo.name || cdo.login}</Typography>\n                        </div>}\n                        <ShareLinkButton settings={settings} />\n                    </div>\n                </div>\n                <List className={classes.list}>\n                    {pullRequests.map((pullRequest, index) => (\n                        <PullRequestItem\n                            key={`pr-${pullRequest.id}`}\n                            forwardRef={index === pullRequests.length - 1 ? lastElRef : undefined}\n                            pullRequest={pullRequest}\n                            settings={settings}\n                        />\n                    ))}\n                </List>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport moment from 'moment';\nimport * as serviceWorker from './serviceWorker';\n\nmoment.locale('fr');\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}