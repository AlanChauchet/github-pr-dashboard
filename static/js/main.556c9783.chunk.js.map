{"version":3,"sources":["hooks/useSettings.js","hooks/useGithubPullRequests.js","api/github.js","hooks/useAlwaysScroll.js","components/PullRequestItem/style.js","components/PullRequestItem/index.js","hooks/useTimeAgo.js","hooks/useReviewsNumbers.js","components/ShareLinkButton/style.js","components/ShareLinkButton/index.js","hooks/useShareLink.js","style.js","App.js","hooks/useGithubApi.js","hooks/useMe.js","hooks/useCDO.js","hooks/useWeekNumber.js","serviceWorker.js","index.js"],"names":["initialState","token","organisation","repositories","filteredTags","requiredTags","daysBeforeWarning","daysBeforeCritical","hoursUntilNotNew","autoScroll","cdoRotation","minNbReviews","onlyNotReviewed","reducer","state","action","type","settings","Error","fetchPRs","api","me","a","Promise","all","map","repo","getOpenPrs","allPRs","flat","filter","pr","draft","labels","some","prLabel","tag","name","toLowerCase","indexOf","length","detail","reviews","sort","b","created_at","localeCompare","addReviewsAndDetails","PRs","pullRequest","getPrReviews","base","number","reviewsByPR","PRsToReview","i","hasAlreadyApproved","id","review","user","push","getPrDetails","PRsDetails","GithubApi","opts","this","Octokit","authenticate","org","users","get","data","login","avatar_url","avatarUrl","predicate","time","newData","item","Date","parse","method","params","limitPredicate","limitTime","next","response","getFilteredData","hasNextPage","getNextPage","concat","owner","paginate","pullRequests","getAll","prs","direction","per_page","lastWeek","now","getReviews","Boolean","result","checkMerged","status","getForUser","username","smoothScroll","SmoothScroll","undefined","speed","orange","red","green","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","marginBottom","boxShadow","position","transition","warning","lighten","critical","mergeable","color","progress","top","left","right","avatar","height","borderRadius","marginRight","extraDataContainer","display","alignItems","justifyContent","minWidth","reviewNumbersContainer","marginLeft","fontSize","newChip","prTitle","prProject","timeAgo","reviewNumber","FetchingProgress","withStyles","bar","LinearProgress","forwardRef","useMemo","timeState","timeMoment","moment","timeAgoText","fromNow","newTime","subtract","isBetween","nbDays","diff","day","hours","minutes","useTimeAgo","nbApprove","nbRefuse","nbComments","comments","isStaleReview","checkReview","submitted_at","useReviewsNumbers","classes","isMergeable","mergeable_state","ListItem","ref","className","classnames","component","href","html_url","target","button","Chip","label","ListItemAvatar","Avatar","src","ListItemText","primary","title","secondary","Typography","shareButton","shareLink","url","URL","window","location","origin","pathname","Object","keys","key","searchParams","set","Array","isArray","join","toString","useShareLink","useState","shareOpen","setShareOpen","onShareClicked","useCallback","ev","clipboardData","setData","navigator","clipboard","writeText","then","handleClose","Fragment","Tooltip","IconButton","onClick","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","message","app","list","paddingTop","header","zIndex","margin","flex","loader","loginContainer","headerEndContainer","cdoContainer","flexDirection","cdoAvatar","App","enabled","el","nbPullRequests","useReducer","dispatch","useEffect","urlParams","URLSearchParams","search","entries","value","split","useSettings","setApi","useGithubApi","setMe","getMe","catch","err","console","error","useMe","setPullRequests","fetching","setFetching","_interval","fetchData","fullPRs","clearInterval","setInterval","useGithubPullRequests","lastElRef","useRef","cdo","setUser","weekOfYear","week","getUser","useCDO","current","onScrollToBottomStopped","document","removeEventListener","scrollToTop","onScrollToTopStopped","scrollToBottom","addEventListener","animateScroll","easing","CssBaseline","variant","align","CircularProgress","ShareLinkButton","List","index","PullRequestItem","hostname","match","locale","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.556c9783.chunk.js","sourcesContent":["import { useEffect, useReducer } from 'react';\nimport * as url from \"url\";\n\nconst initialState = {\n    token: null,\n    organisation: null,\n    repositories: [],\n    filteredTags: [],\n    requiredTags: [],\n    daysBeforeWarning: '1',\n    daysBeforeCritical: '2',\n    hoursUntilNotNew: '2',\n    autoScroll: 'false',\n    cdoRotation: [],\n    minNbReviews: 2,\n    onlyNotReviewed: 'true',\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'update':\n            return {\n                ...state,\n                ...action.settings,\n            };\n        default:\n            throw new Error();\n    }\n}\n\nexport const useSettings = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    useEffect(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n        const settings = {};\n        for (const [key, value] of urlParams.entries()) {\n           settings[key] = Array.isArray(initialState[key]) ? value.split(',') : value;\n        }\n        dispatch({\n            type: 'update',\n            settings,\n        })\n    }, []);\n\n    return state;\n};\n","import { useEffect, useState } from 'react';\n\nconst fetchPRs = async (api, me, { repositories, filteredTags, requiredTags, onlyNotReviewed }) => {\n    const allPRs = (await Promise.all(repositories.map(repo => api.getOpenPrs(repo)))).flat();\n\n    return allPRs\n        .filter(\n            pr => !pr.draft &&\n                !pr.labels.some(\n                    prLabel => filteredTags.some(tag => prLabel.name.toLowerCase().indexOf(tag.toLowerCase()) > -1)\n                ) && (!requiredTags.length || pr.labels.some(prLabel => requiredTags.some(tag => prLabel.name.toLowerCase().indexOf(tag.toLowerCase()) > -1)))\n        ).map(pr => ({\n            ...pr,\n            detail: null,\n            reviews: null\n        }))\n        .sort((a, b) => a.created_at.localeCompare(b.created_at));\n}\n\nconst addReviewsAndDetails = async (api, me, PRs, { onlyNotReviewed }) => {\n    const reviewsByPR = await Promise.all(PRs.map(pullRequest => api.getPrReviews(pullRequest.base.repo.name, pullRequest.number)));\n\n    const PRsToReview = [];\n\n    for (let i = 0; i < reviewsByPR.length; i++) {\n        const pullRequest = PRs[i];\n        const reviews = reviewsByPR[i];\n\n        const hasAlreadyApproved = me.id && reviews.some(review => review.user?.id === me.id && review.state === \"APPROVED\");\n\n        if (onlyNotReviewed !== 'true' || !hasAlreadyApproved) {\n            PRsToReview.push({\n                ...pullRequest,\n                reviews,\n            });\n        }\n    }\n\n    const PRsDetails = await Promise.all(PRsToReview.map(pullRequest => api.getPrDetails(pullRequest.base.repo.name, pullRequest.number)));\n\n    return PRsToReview.map((pullRequest, i) => ({ ...pullRequest, detail: PRsDetails[i] }));\n}\n\nexport const useGithubPullRequests = (api, me, settings) => {\n    const [pullRequests, setPullRequests] = useState([]);\n    const [fetching, setFetching] = useState(false);\n\n    useEffect(() => {\n        let _interval = null;\n\n        async function fetchData() {\n            setFetching(true);\n\n            const PRs = await fetchPRs(api, me, settings);\n\n            setPullRequests(PRs);\n            setFetching(false);\n\n            const fullPRs = await addReviewsAndDetails(api, me, PRs, settings);\n\n            setPullRequests(fullPRs);\n        }\n\n        clearInterval(_interval);\n\n        if (api && me.id) {\n            fetchData()\n                .catch(console.error);\n            _interval = window.setInterval(() => {\n                fetchData()\n                    .catch(console.error);\n            }, 120000);\n        }\n\n        return () => {\n            clearInterval(_interval);\n        }\n    }, [api, me, settings]);\n\n    return [pullRequests, fetching];\n};\n","import Octokit from '@octokit/rest';\n\nclass GithubApi {\n    constructor(opts) {\n        this.api = new Octokit();\n\n        this.api.authenticate({\n            type: 'token',\n            token: opts.token\n        });\n\n        this.org = opts.org;\n    }\n\n    async getMe() {\n        const { id, login, avatar_url } = (await this.api.users.get({})).data;\n\n        return { id, login, avatarUrl: avatar_url };\n    }\n\n    getFilteredData(data, predicate, time) {\n        const newData = data.filter(item => {\n            const itemDate = Date.parse(item[predicate]);\n            return itemDate > time;\n        });\n\n        const sameData = data.length === newData.length;\n\n        return [newData, sameData];\n    }\n\n    async paginate(method, params, limitPredicate, limitTime) {\n        let next = true;\n        let response = await method(params);\n        let { data } = response;\n\n        if (!!limitPredicate && !!limitTime) {\n            [data, next] = this.getFilteredData(data, limitPredicate, limitTime);\n        }\n\n        while (this.api.hasNextPage(response) && next) {\n            response = await this.api.getNextPage(response);\n            let newData = null;\n            if (!!limitPredicate && !!limitTime) {\n                [newData, next] = this.getFilteredData(\n                    response.data,\n                    limitPredicate,\n                    limitTime\n                );\n            }\n\n            if (newData) {\n                data = data.concat(newData);\n            }\n        }\n        return data;\n    }\n\n    async getOpenPrs(repo) {\n        const params = {\n            owner: this.org,\n            repo,\n            state: 'open'\n        };\n\n        const prs = await this.paginate(this.api.pullRequests.getAll, params);\n\n        return prs;\n    }\n\n    async getClosedPrsLastWeek(repo) {\n        const params = {\n            owner: this.org,\n            repo,\n            state: 'closed',\n            sort: 'updated',\n            direction: 'desc',\n            per_page: 50\n        };\n\n        const lastWeek = Date.now() - 7 * 24 * 60 * 60 * 1000;\n\n        const prs = await this.paginate(\n            this.api.pullRequests.getAll,\n            params,\n            'closed_at',\n            lastWeek\n        );\n\n        return prs;\n    }\n\n    async getPrDetails(repo, number) {\n        const pr = await this.api.pullRequests.get({\n            owner: this.org,\n            repo,\n            number\n        });\n\n        return pr.data;\n    }\n\n    async getPrReviews(repo, number) {\n        const params = {\n            owner: this.org,\n            repo,\n            number\n        };\n\n        const reviews = await this.paginate(\n            this.api.pullRequests.getReviews,\n            params\n        );\n\n        return reviews.filter(Boolean);\n    }\n\n    async getPrMergeStatus(repo, number) {\n        let result = null;\n        try {\n            result = await this.api.pullRequests.checkMerged({\n                owner: this.org,\n                repo,\n                number\n            });\n        } catch (e) {\n            // do nothing\n        }\n\n        return result && result.status === 204;\n    }\n\n    async getUser(user) {\n        const result = await this.api.users.getForUser({ username: user });\n\n        return result.data;\n    }\n}\n\nexport default GithubApi;\n","import { useEffect } from 'react';\nimport SmoothScroll from 'smooth-scroll';\n\nconst smoothScroll = new SmoothScroll(undefined, {\n    speed: 40000\n});\n\nexport const useAlwaysScroll = (enabled, el, nbPullRequests) => {\n    useEffect(() => {\n        if (enabled === 'true' && el && nbPullRequests > 4) {\n            const onScrollToBottomStopped = () => {\n                document.removeEventListener('scrollStop', onScrollToBottomStopped);\n                scrollToTop();\n            };\n            const onScrollToTopStopped = () => {\n                document.removeEventListener('scrollStop', onScrollToTopStopped);\n                scrollToBottom();\n            };\n            const scrollToBottom = () => {\n                document.addEventListener('scrollStop', onScrollToBottomStopped);\n                smoothScroll.animateScroll(el, undefined, {\n                    speed: 40000,\n                    easing: 'linear'\n                });\n            };\n            const scrollToTop = () => {\n                document.addEventListener('scrollStop', onScrollToTopStopped);\n                smoothScroll.animateScroll(0, undefined, {\n                    speed: 5000,\n                    easing: 'linear'\n                });\n            };\n            document.removeEventListener('scrollStop', onScrollToBottomStopped);\n            document.removeEventListener('scrollStop', onScrollToTopStopped);\n            scrollToBottom();\n        }\n    }, [enabled, el, nbPullRequests]);\n};\n","import { makeStyles } from '@material-ui/core';\nimport { lighten } from '@material-ui/core/styles';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nexport const orange = '#fcbb26';\nexport const red = '#ff5c39';\nexport const green = '#00b388';\nexport const grey = '#d9d9d6';\n\nexport const useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n    },\n    item: {\n        backgroundColor: theme.palette.background.paper,\n        marginBottom: '2em',\n        boxShadow: 'rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px',\n        position: 'relative',\n        transition: 'background-color 200ms ease-in-out',\n    },\n    warning: {\n        backgroundColor: lighten(orange, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(orange, 0.4)\n        }\n    },\n    critical: {\n        backgroundColor: lighten(red, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(red, 0.4),\n        }\n    },\n    mergeable: {\n        backgroundColor: lighten(green, 0.6),\n        '&:hover': {\n            backgroundColor: lighten(green, 0.45),\n        },\n        '&$warning $timeAgo': {\n            color: orange\n        },\n        '&$critical $timeAgo': {\n            color: red\n        }\n    },\n    progress: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0\n    },\n    avatar: {\n        width: 60,\n        height: 60,\n        borderRadius: '3px',\n        marginRight: '1em'\n    },\n    extraDataContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        minWidth: '17vw'\n    },\n    reviewNumbersContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        '&:not(:last-of-type)': {\n            marginBottom: '0.5em',\n        },\n        '& svg': {\n            marginLeft: '0.5em',\n            fontSize: '2.5em',\n        },\n        '&.green svg': {\n            color: green\n        },\n        '&.red svg': {\n            color: red\n        },\n        '&.grey svg': {\n            color: grey\n        },\n    },\n    newChip: {\n        backgroundColor: red,\n        color: 'white',\n        position: 'absolute',\n        top: -15,\n        left: 50,\n        fontSize: '1.8vw'\n    },\n    prTitle: {\n        fontSize: '2vw'\n    },\n    prProject: {\n        fontSize: '1.8vw'\n    },\n    timeAgo: {\n        fontSize: '1.8vw'\n    },\n    reviewNumber: {\n        fontSize: '1.8vw'\n    },\n}));\n\nexport const FetchingProgress = withStyles({\n    root: {\n        height: 2,\n        backgroundColor: lighten(green, 0.5),\n    },\n    bar: {\n        backgroundColor: green,\n    },\n})(LinearProgress);\n","import React from 'react';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport MessageIcon from '@material-ui/icons/Message';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\nimport classnames from 'classnames';\n\nimport { useTimeAgo } from '../../hooks/useTimeAgo';\nimport { useReviewsNumbers } from '../../hooks/useReviewsNumbers';\nimport { useStyles, FetchingProgress } from './style';\n\nexport default ({\n                    pullRequest,\n                    settings,\n                    forwardRef\n                }) => {\n    const { timeAgoText, timeState } = useTimeAgo(pullRequest.created_at, settings);\n    const { nbApprove, nbRefuse, nbComments } = useReviewsNumbers(pullRequest);\n    const classes = useStyles();\n\n    const isMergeable = nbApprove >= settings.minNbReviews && pullRequest.detail && pullRequest.detail.mergeable === true && pullRequest.detail.mergeable_state === 'clean';\n\n    return settings.onlyNotReviewed === 'true' && nbApprove >= settings.minNbReviews ? null : (\n        <ListItem\n            ref={forwardRef}\n            className={classnames(classes.item, isMergeable && classes.mergeable, timeState === 'WARNING' && classes.warning, timeState === 'CRITICAL' && classes.critical)}\n            component=\"a\"\n            href={pullRequest.html_url}\n            target=\"_blank\"\n            button\n        >\n            {(!pullRequest.detail || !pullRequest.reviews) && <FetchingProgress className={classes.progress} />}\n            {timeState === 'NEW' && <Chip label=\"New\" className={classes.newChip} />}\n            <ListItemAvatar>\n                <Avatar className={classes.avatar} src={pullRequest.user.avatar_url} />\n            </ListItemAvatar>\n            <ListItemText\n                primary={pullRequest.title}\n                secondary={pullRequest.base.repo.name}\n                classes={{\n                    primary: classes.prTitle,\n                    secondary: classes.prProject\n                }}\n            />\n            <div className={classes.extraDataContainer}>\n                <div>\n                    <div className={`${classes.reviewNumbersContainer} green`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.reviews ? nbApprove : '-'}\n                        </Typography>\n                        <CheckBoxIcon/>\n                    </div>\n                    <div className={`${classes.reviewNumbersContainer} red`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.reviews ? nbRefuse : '-'}\n                        </Typography>\n                        <ClearIcon/>\n                    </div>\n                    <div className={`${classes.reviewNumbersContainer} grey`}>\n                        <Typography className={classes.reviewNumber}>\n                            {pullRequest.detail ? nbComments : '-'}\n                        </Typography>\n                        <MessageIcon/>\n                    </div>\n                </div>\n                <Typography className={classes.timeAgo}>\n                    {timeAgoText}\n                </Typography>\n            </div>\n        </ListItem>\n    );\n};\n","import { useMemo } from 'react';\nimport moment from 'moment';\n\nexport const useTimeAgo = (time, settings) => {\n    return useMemo(() => {\n        let timeState = 'NEUTRAL';\n        const timeMoment = moment(time);\n        const timeAgoText = timeMoment.fromNow();\n        const now = moment();\n        const newTime = moment().subtract(+settings.hoursUntilNotNew, 'hours');\n        if (timeMoment.isBetween(newTime, now)) {\n            timeState = 'NEW';\n        } else {\n            let nbDays = now.diff(timeMoment, 'days');\n            // if currently in weekend and full day has passed, skip from counter\n            if ((now.day() === 0 || now.day() === 6) &&\n                (now.hours() > timeMoment.hours() ||\n                    (now.hours() === timeMoment.hours() && now.minutes() > timeMoment.minutes())\n                )\n            ) {\n                nbDays--;\n            }\n            now.subtract(1, 'days');\n            while (now.diff(timeMoment, 'days') > 0) {\n                // if weekend, skip from counter\n                if (now.day() === 0 || now.day() === 6) {\n                    nbDays--;\n                }\n                now.subtract(1, 'days');\n            }\n            if (nbDays >= +settings.daysBeforeCritical) {\n                timeState = 'CRITICAL';\n            } else if (nbDays >= +settings.daysBeforeWarning) {\n                timeState = 'WARNING';\n            }\n        }\n\n        return {\n            timeAgoText,\n            timeState\n        };\n    }, [time, settings.hoursUntilNotNew, settings.daysBeforeWarning, settings.daysBeforeCritical]);\n};\n","import { useMemo } from 'react';\n\nexport const useReviewsNumbers = (pullRequest) => {\n    return useMemo(() => {\n        let nbApprove = 0;\n        let nbRefuse = 0;\n        const nbComments = pullRequest.detail ? pullRequest.detail.comments : 0;\n        if (pullRequest.reviews) {\n            for (const review of pullRequest.reviews) {\n                if (review) {\n                    switch (review.state) {\n                        case 'APPROVED':\n                            nbApprove++;\n                            break;\n                        case 'CHANGES_REQUESTED':\n                            // if we have a refused review, we check if there is another approved review by the same author later on\n                            let isStaleReview = false;\n                            for (const checkReview of pullRequest.reviews) {\n                                if (\n                                    checkReview &&\n                                    checkReview.id !== review.id &&\n                                    checkReview.user.login === review.user.login &&\n                                    checkReview.state === 'APPROVED' &&\n                                    Date.parse(checkReview.submitted_at) - Date.parse(review.submitted_at) > 0\n                                ) {\n                                    isStaleReview = true;\n                                }\n                            }\n\n                            if (!isStaleReview) {\n                                nbRefuse++;\n                            }\n                            break;\n                        default:\n                        // do nothing\n                    }\n                }\n            }\n        }\n        return {\n            nbApprove,\n            nbRefuse,\n            nbComments\n        };\n    }, [pullRequest]);\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(theme => ({\n    shareButton: {\n        marginRight: '2em',\n        '& svg': {\n            fontSize: '2em'\n        }\n    }\n}));\n","import React, { useCallback, useState } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport ShareIcon from '@material-ui/icons/InsertLink';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { useShareLink } from '../../hooks/useShareLink';\nimport { useStyles } from './style';\n\nexport default ({ settings }) => {\n    const shareLink = useShareLink(settings);\n    const [shareOpen, setShareOpen] = useState(false);\n    const onShareClicked = useCallback((ev) => {\n        if (ev.clipboardData) {\n            ev.clipboardData.setData('text/plain', shareLink);\n            setShareOpen(true);\n        } else if (window.clipboardData) {\n            window.clipboardData.setData('Text', 'custom content from click');\n            setShareOpen(true);\n        } else if (navigator.clipboard) {\n            navigator.clipboard.writeText(shareLink)\n                .then(() => setShareOpen(true));\n        }\n    }, [shareLink]);\n    const handleClose = useCallback(() => {\n        setShareOpen(false);\n    }, []);\n\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <Tooltip title={shareLink}>\n                <IconButton className={classes.shareButton} onClick={onShareClicked}>\n                    <ShareIcon/>\n                </IconButton>\n            </Tooltip>\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center'\n                }}\n                open={shareOpen}\n                autoHideDuration={2000}\n                onClose={handleClose}\n                message=\"Copied to clipboard !\"\n            />\n        </React.Fragment>\n    );\n};\n","import { useMemo } from 'react';\n\nexport const useShareLink = (settings) => {\n    return useMemo(() => {\n        const url = new URL(`${window.location.origin}${window.location.pathname}`);\n        const settingsKeys = Object.keys(settings);\n        for (const key of settingsKeys) {\n            if (key !== 'token') {\n                url.searchParams.set(key, Array.isArray(settings[key]) ? settings[key].join(',') : settings[key]);\n            }\n        }\n        return url.toString();\n    }, [settings]);\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport const useStyles = makeStyles(theme => ({\n    app: {\n        position: 'relative'\n    },\n    list: {\n        width: '100%',\n        paddingTop: 165\n    },\n    header: {\n        zIndex: 2,\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        backgroundColor: '#fafafa',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-around'\n    },\n    title: {\n        position: 'relative',\n        margin: '1em 0',\n        flex: 1\n    },\n    username: {\n        fontSize: 18,\n    },\n    loader: {\n        marginLeft: '1em',\n        position: 'absolute',\n    },\n    loginContainer: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    avatar: {\n        marginRight: '1em',\n    },\n    headerEndContainer: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end'\n    },\n    cdoContainer: {\n        marginRight: '5vw',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    cdoAvatar: {\n        width: 60,\n        height: 60,\n        borderRadius: '3px',\n    }\n}));\n","import React, { useRef } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Avatar from '@material-ui/core/Avatar';\n\nimport { useSettings } from './hooks/useSettings';\nimport { useGithubPullRequests } from './hooks/useGithubPullRequests';\nimport { useGithubApi } from './hooks/useGithubApi';\nimport { useAlwaysScroll } from './hooks/useAlwaysScroll';\n\nimport PullRequestItem from './components/PullRequestItem';\nimport ShareLinkButton from './components/ShareLinkButton';\n\nimport './App.css';\nimport { useStyles } from './style';\nimport { useCDO } from './hooks/useCDO';\nimport { useWeekNumber } from './hooks/useWeekNumber';\nimport {useMe} from \"./hooks/useMe\";\n\nfunction App() {\n    const settings = useSettings();\n    const api = useGithubApi(settings.token, settings.organisation);\n    const me = useMe(api);\n    const [pullRequests, fetching] = useGithubPullRequests(api, me, settings);\n    const lastElRef = useRef(null);\n    const cdo = useCDO(api, settings);\n    const weekOfYear = useWeekNumber();\n    useAlwaysScroll(settings.autoScroll, lastElRef.current, pullRequests.length);\n\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <CssBaseline />\n            <div className={classes.app}>\n                <div className={classes.header}>\n                    <div className={classes.loginContainer}>\n                        {me.avatarUrl && <Avatar className={classes.avatar} src={me.avatarUrl} />}\n                        {me.login && <Typography variant=\"h3\" align=\"center\" className={classes.username} component=\"div\">{me.login}</Typography>}\n                    </div>\n                    <Typography variant=\"h3\" align=\"center\" className={classes.title} component=\"div\">\n                        Week {weekOfYear}\n                        {fetching && <CircularProgress className={classes.loader} />}\n                    </Typography>\n                    <div className={classes.headerEndContainer}>\n                        {cdo && <div className={classes.cdoContainer}>\n                            <Typography variant=\"h5\">CDO</Typography>\n                            <Avatar src={cdo.avatar_url} className={classes.cdoAvatar} />\n                            <Typography variant=\"h5\">{cdo.name || cdo.login}</Typography>\n                        </div>}\n                        <ShareLinkButton settings={settings} />\n                    </div>\n                </div>\n                <List className={classes.list}>\n                    {pullRequests.map((pullRequest, index) => (\n                        <PullRequestItem\n                            key={`pr-${pullRequest.id}`}\n                            forwardRef={index === pullRequests.length - 1 ? lastElRef : undefined}\n                            pullRequest={pullRequest}\n                            settings={settings}\n                        />\n                    ))}\n                </List>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n","import { useEffect, useState } from 'react';\nimport GithubApi from '../api/github';\n\nexport const useGithubApi = (token, organisation) => {\n    const [api, setApi] = useState(null);\n\n    useEffect(() => {\n        if (token && organisation) {\n            setApi(new GithubApi({ token, org: organisation }));\n        } else {\n            setApi(null);\n        }\n    }, [token, organisation]);\n\n    return api;\n};\n","import {useEffect, useState} from \"react\";\n\nexport const useMe = (api) => {\n    const [me, setMe] = useState({ id: null, login: null, avatarUrl: null });\n\n    useEffect(() => {\n        if (api) {\n            api.getMe().then(setMe).catch((err) => console.error('getMe failed', err));\n        }\n    }, [api]);\n\n    return me;\n};\n","import { useEffect, useState } from 'react';\nimport moment from 'moment';\n\nexport const useCDO = (api, settings) => {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        async function fetchData() {\n            const weekOfYear = moment().week();\n            const username = settings.cdoRotation[weekOfYear % settings.cdoRotation.length];\n            const user = await api.getUser(username);\n            setUser(user);\n        }\n        if (api && settings.cdoRotation.length) {\n            fetchData()\n                .catch(console.error);\n        }\n    }, [api, settings.cdoRotation]);\n\n    return user;\n};\n","import { useMemo } from 'react';\nimport moment from 'moment';\n\nexport const useWeekNumber = () => {\n    return useMemo(() => {\n        const now = moment();\n        return now.week();\n    }, []);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport moment from 'moment';\nimport * as serviceWorker from './serviceWorker';\n\nmoment.locale('fr');\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}